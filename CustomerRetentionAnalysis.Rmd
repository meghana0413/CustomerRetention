---
title: "Customer Retention Project"
output: html_notebook
---

Requirements.txt
```{r}
#install.packages("ggplot2")
#install.packages("tidyr")
```

Load Required Libraries
```{r}
library(ggplot2)
library(tidyr)
```

Dataset Files
```{r}
implementation_data <- "Implementation_Data.rda"
model_building_data <- "Model_Building_Data.rda"
```

Load the dataset files
```{r}
load(implementation_data)
load(model_building_data)
```

View Implementation Data Details
```{r}
str(Implementation_Data)
```

View Model Building Data Details
```{r}
str(Model_Building_Data)
```
Status is loaded as chr check for unique values
```{r}
length(unique(Model_Building_Data$Status))
```

We can only 2 values so it can be converted into Factor
```{r}
Model_Building_Data$Status <- as.factor(Model_Building_Data$Status)
```

Convert SeniorCitizen into Factor to avoiding algorithm considering it as continous variable.
```{r}
Model_Building_Data$SeniorCitizen <- as.factor(Model_Building_Data$SeniorCitizen)
```

TODO: Remove this if not need (Option 1) try one
```{r}
Model_Building_Data %>%
    pivot_longer(cols = where(is.factor), names_to = "Variable", values_to = "Value") %>%
    ggplot(aes(x = Value)) +
    geom_bar(fill = "blue", alpha = 0.6) +
    geom_text(stat = "count", aes(label = ..count..), vjust = 1.3, size = 2) +
    facet_wrap(~ Variable, scales = "free", ncol = 3) +
    theme_minimal(base_size = 8) +
    theme(axis.text.x = element_text(angle = 10, hjust = 1))
```

TODO: Repeat for all Factor columns (Option 2) try one
```{r}
ggplot(Model_Building_Data, aes(x = PaymentMethod)) +
  geom_bar(fill = "blue", alpha = 0.7) +
  geom_text(stat = "count", aes(label = ..count..), vjust = -0.3, size = 5) +
  theme_minimal(base_size = 14) +
  labs(title = "Bar Plot of PaymentMethod", x = "PaymentMethod", y = "Customers")
```

